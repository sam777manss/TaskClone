@{
    Layout = null;
}

@model CategoriesModel

<div class="container-fluid pt-5">

    @if (Model != null)
    {
        @if (Model.addProductTables.Count() > 0)
        {
            <div class="row px-xl-5 pb-3">
                @foreach (var data in Model.addProductTables)
                {
                    <div class="col-lg-3 col-md-4 col-sm-4 col-4 pb-1">
                        <div class="card product-item border-0 mb-4">
                            <div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
                                <a asp-controller="User" asp-action="ProductDetail" asp-route-ProductId="@data.ProductId">
                                    <img class="img-fluid w-100" src="/ImagesFolder/@data.MainImage" alt="">
                                </a>
                            </div>
                            <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                                <h6 class="text-truncate mb-3">@data.ProductCategoryDescription</h6>
                                <div class="d-flex justify-content-center">
                                    <h6>Rs @data.Price</h6><h6 class="text-muted ml-2"><del>Rs @data.Price</del></h6>
                                </div>
                            </div>
                            <div class="card-footer d-flex justify-content-between bg-light border">
                                <a asp-controller="User" asp-action="ProductDetail" asp-route-ProductId="@data.ProductId" class="btn btn-sm text-dark p-0">
                                    <i class="fas fa-eye text-primary mr-1"></i>
                                    View Detail
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>

            <div class="row px-xl-5 pb-3">
                <div class="col-md-12 d-flex justify-content-between align-items-center">
                    <h5>Page: @(TempData["pageNumber"] == null ? 1 : TempData["pageNumber"]) of @Model.MaxPageSize</h5>
                    <div>
                        <input id="filterBy" value="@TempData["filter"]" style="display:none"></input>
                        <button id="prev-page" class="btn btn-outline-primary py-md-2 px-md-3"
                                value="@(TempData["pageNumber"] == null ? 0 : Convert.ToInt32(TempData["pageNumber"]) - 1)" onclick="previous()">
                            Previous Page
                        </button>
                        <button id="current-page" class="btn btn-outline-primary py-md-2 px-md-3"
                                value="@(TempData["pageNumber"] == null ? 1 : TempData["pageNumber"])">
                            @(TempData["pageNumber"] == null ? 1 : TempData["pageNumber"])
                        </button>
                        <button id="next-page" class="btn btn-outline-primary py-md-2 px-md-3"
                                value="@(TempData["pageNumber"] == null ? 2 : Convert.ToInt32(TempData["pageNumber"]) + 1)" onclick="next()">
                            Next Page
                        </button>
                    </div>
                </div>
            </div>
        }
    }

</div>
